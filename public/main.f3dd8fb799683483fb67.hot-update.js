/*! For license information please see main.f3dd8fb799683483fb67.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdategala_digdaya("main",{"./app/classes/Page.js":(t,e,s)=>{s.r(e),s.d(e,{default:()=>f});var i=s("./node_modules/gsap/index.js"),n=s("./node_modules/prefix/index.js"),a=s.n(n),o=s("./node_modules/lodash/each.js"),l=s.n(o),r=s("./node_modules/lodash/map.js"),h=s.n(r),m=s("./app/animations/Title.js"),c=s("./app/animations/Paragraph.js"),d=s("./app/animations/Label.js"),u=s("./app/animations/Highlight.js"),p=s("./app/animations/Buttons.js"),g=s("./app/classes/AsyncLoad.js"),w=s("./app/classes/Colors.js");Object(function(){var t=new Error("Cannot find module 'classes/Scroll'");throw t.code="MODULE_NOT_FOUND",t}());class f{constructor({element:t,elements:e,id:s}){this.selector=t,this.selectorChildren={preloaders:"[data-src]",animationsTitles:'[data-animation="title"]',aimationsHighlights:'[data-animation="highlight"]',animationsParagraphs:'[data-animation="paragraph"]',animationsLabels:'[data-animation="label"]',animationsButtons:'[data-animation="button"]',...e},this.id=s,this.transformPrefix=a()("transform")}create(){this.element=document.querySelector(this.selector),this.elements={},this.scroll={current:0,target:0,last:0,limit:0},this.x={start:0,distance:0,end:0},this.y={start:0,distance:0,end:0},l()(this.selectorChildren,((t,e)=>{t instanceof window.HTMLElement||t instanceof window.NodeList||Array.isArray(t)?this.elements[e]=t:(this.elements[e]=document.querySelectorAll(t),0===this.elements[e].length?this.elements[e]=null:1===this.elements[e].length&&(this.elements[e]=document.querySelector(t)))})),this.createAnimations(),this.createPreloader()}createPreloader(){this.preloaders=h()(this.elements.preloaders,(t=>new g.default({element:t})))}createAnimations(){this.animations=[],this.animationsButtons=h()(this.elements.animationsButtons,(t=>new p.default({element:t}))),this.animations.push(...this.animationsButtons),this.animationsTitles=h()(this.elements.animationsTitles,(t=>new m.default({element:t}))),this.animations.push(...this.animationsTitles),this.animationsParagraphs=h()(this.elements.animationsParagraphs,(t=>new c.default({element:t}))),this.animations.push(...this.animationsParagraphs),this.animationsLabels=h()(this.elements.animationsLabels,(t=>new d.default({element:t}))),this.animations.push(...this.animationsLabels),this.aimationsHighlights=h()(this.elements.aimationsHighlights,(t=>new u.default({element:t}))),this.animations.push(...this.aimationsHighlights)}createObserver(){this.observer=new window.ResizeObserver((t=>{for(const e of t)window.requestAnimationFrame((t=>{this.scroll.limit=h()(this.elements.wrapper).height-window.innerHeight}))})),this.observer.observe(this.elements.wrapper)}show(t){return new Promise((e=>{w.ColorsManager.change({backgroundColor:this.element.getAttribute("data-background"),color:this.element.getAttribute("data-color")}),t?this.animationIn=t:(this.animationIn=i.default.timeline(),this.animationIn.fromTo(this.element,{autoAlpha:0},{autoAlpha:1})),this.animationIn.call((t=>{this.addEventListeners(),e()}))}))}hide(){return new Promise((t=>{this.destroy(),this.animationIn=i.default.timeline(),this.animationIn.to(this.element,{autoAlpha:0,onComplete:t})}))}onResize(){this.elements.wrapper&&(this.scroll.limit=this.elements.wrapper.clientHeight-window.innerHeight),l()(this.animations,(t=>t.onResize()))}onWheel({pixelY:t}){this.scroll.target+=.5*t}onTouchDown(t){this.isDown=!0,this.y.start=t.touches?t.touches[0].clientY:t.clientY,this.scroll.start=this.scroll.current}onTouchUp(t){this.isDown=!1}onTouchMove(t){if(!this.isDown)return;this.y.end=t.touches?t.touches[0].clientY:t.clientY;const e=this.y.start-this.y.end;this.scroll.target=this.scroll.start+e}update(){this.scroll.target=i.default.utils.clamp(0,this.scroll.limit,this.scroll.target),this.scroll.current=i.default.utils.interpolate(this.scroll.current,this.scroll.target,.1),this.scroll.current<.01&&(this.scroll.current=0),this.elements.wrapper&&(this.elements.wrapper.style[this.transformPrefix]=`translate3d(0px, -${this.scroll.current}px, 0px)`)}addEventListeners(){}removeEventListeners(){}destroy(){this.removeEventListeners()}}}},(function(t){t.h=()=>"cf72e7811049f241f822"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUUrQixRQUFVL0IsRUFBRStCLFFBQVEsR0FBR0MsUUFBVWhDLEVBQUVnQyxRQUNsRCxNQUFNNUQsRUFBV3JCLEtBQUt1QixFQUFFSCxNQUFRcEIsS0FBS3VCLEVBQUVELElBRXZDdEIsS0FBS2MsT0FBT0UsT0FBU2hCLEtBQUtjLE9BQU9NLE1BQVFDLENBQzNDLENBSUErRCxTQUNFcEYsS0FBS2MsT0FBT0UsT0FBU2dELEVBQUFBLFFBQUFBLE1BQUFBLE1BQWlCLEVBQUdoRSxLQUFLYyxPQUFPSSxNQUFPbEIsS0FBS2MsT0FBT0UsUUFFeEVoQixLQUFLYyxPQUFPQyxRQUFVaUQsRUFBQUEsUUFBQUEsTUFBQUEsWUFBdUJoRSxLQUFLYyxPQUFPQyxRQUFTZixLQUFLYyxPQUFPRSxPQUFRLElBRWxGaEIsS0FBS2MsT0FBT0MsUUFBVSxNQUN4QmYsS0FBS2MsT0FBT0MsUUFBVSxHQUdwQmYsS0FBS0YsU0FBU3FELFVBQ2hCbkQsS0FBS0YsU0FBU3FELFFBQVFrQyxNQUFNckYsS0FBS1MsaUJBQW9CLHFCQUFvQlQsS0FBS2MsT0FBT0Msa0JBRXpGLENBSUFzRCxvQkFBc0IsQ0FFdEJpQix1QkFBeUIsQ0FJekJmLFVBQ0V2RSxLQUFLc0Ysc0JBQ1Asa0JDblFGQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2FsYV9kaWdkYXlhLy4vYXBwL2NsYXNzZXMvUGFnZS5qcyIsIndlYnBhY2s6Ly9nYWxhX2RpZ2RheWEvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgR1NBUCBmcm9tICdnc2FwJ1xuXG5pbXBvcnQgUHJlZml4IGZyb20gJ3ByZWZpeCdcblxuaW1wb3J0IGVhY2ggZnJvbSAnbG9kYXNoL2VhY2gnXG5pbXBvcnQgbWFwIGZyb20gJ2xvZGFzaC9tYXAnXG5cbmltcG9ydCBUaXRsZSBmcm9tICdhbmltYXRpb25zL1RpdGxlJ1xuaW1wb3J0IFBhcmFncmFwaCBmcm9tICdhbmltYXRpb25zL1BhcmFncmFwaCdcbmltcG9ydCBMYWJlbCBmcm9tICdhbmltYXRpb25zL0xhYmVsJ1xuaW1wb3J0IEhpZ2hsaWdodCBmcm9tICdhbmltYXRpb25zL0hpZ2hsaWdodCdcbmltcG9ydCBCdXR0b25zIGZyb20gJ2FuaW1hdGlvbnMvQnV0dG9ucydcblxuaW1wb3J0IEFzeW5jTG9hZCBmcm9tICdjbGFzc2VzL0FzeW5jTG9hZCdcblxuaW1wb3J0IHsgQ29sb3JzTWFuYWdlciB9IGZyb20gJ2NsYXNzZXMvQ29sb3JzJ1xuXG5pbXBvcnQgU2Nyb2xsIGZyb20gJ2NsYXNzZXMvU2Nyb2xsJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcbiAgY29uc3RydWN0b3IgKHsgZWxlbWVudCwgZWxlbWVudHMsIGlkIH0pIHtcbiAgICB0aGlzLnNlbGVjdG9yID0gZWxlbWVudFxuICAgIHRoaXMuc2VsZWN0b3JDaGlsZHJlbiA9IHtcbiAgICAgIHByZWxvYWRlcnM6ICdbZGF0YS1zcmNdJyxcbiAgICAgIGFuaW1hdGlvbnNUaXRsZXM6ICdbZGF0YS1hbmltYXRpb249XCJ0aXRsZVwiXScsXG4gICAgICBhaW1hdGlvbnNIaWdobGlnaHRzOiAnW2RhdGEtYW5pbWF0aW9uPVwiaGlnaGxpZ2h0XCJdJyxcbiAgICAgIGFuaW1hdGlvbnNQYXJhZ3JhcGhzOiAnW2RhdGEtYW5pbWF0aW9uPVwicGFyYWdyYXBoXCJdJyxcbiAgICAgIGFuaW1hdGlvbnNMYWJlbHM6ICdbZGF0YS1hbmltYXRpb249XCJsYWJlbFwiXScsXG4gICAgICBhbmltYXRpb25zQnV0dG9uczogJ1tkYXRhLWFuaW1hdGlvbj1cImJ1dHRvblwiXScsXG4gICAgICAuLi5lbGVtZW50c1xuICAgIH1cblxuICAgIHRoaXMuaWQgPSBpZFxuXG4gICAgdGhpcy50cmFuc2Zvcm1QcmVmaXggPSBQcmVmaXgoJ3RyYW5zZm9ybScpXG4gIH1cblxuICBjcmVhdGUgKCkge1xuICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICB0aGlzLmVsZW1lbnRzID0ge31cblxuICAgIHRoaXMuc2Nyb2xsID0ge1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHRhcmdldDogMCxcbiAgICAgIGxhc3Q6IDAsXG4gICAgICBsaW1pdDogMFxuICAgIH1cblxuICAgIHRoaXMueCA9IHtcbiAgICAgIHN0YXJ0OiAwLFxuICAgICAgZGlzdGFuY2U6IDAsXG4gICAgICBlbmQ6IDBcbiAgICB9XG5cbiAgICB0aGlzLnkgPSB7XG4gICAgICBzdGFydDogMCxcbiAgICAgIGRpc3RhbmNlOiAwLFxuICAgICAgZW5kOiAwXG4gICAgfVxuXG4gICAgZWFjaCh0aGlzLnNlbGVjdG9yQ2hpbGRyZW4sIChlbnRyeSwga2V5KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93LkhUTUxFbGVtZW50IHx8XG4gICAgICAgIGVudHJ5IGluc3RhbmNlb2Ygd2luZG93Lk5vZGVMaXN0IHx8XG4gICAgICAgIEFycmF5LmlzQXJyYXkoZW50cnkpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5lbGVtZW50c1trZXldID0gZW50cnlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZW50cnkpXG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNba2V5XS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRzW2tleV0gPSBudWxsXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50c1trZXldLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIHRoaXMuZWxlbWVudHNba2V5XSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZW50cnkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5jcmVhdGVBbmltYXRpb25zKClcblxuICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKClcbiAgfVxuXG4gIGNyZWF0ZVByZWxvYWRlciAoKSB7XG4gICAgdGhpcy5wcmVsb2FkZXJzID0gbWFwKHRoaXMuZWxlbWVudHMucHJlbG9hZGVycywgKGVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgQXN5bmNMb2FkKHsgZWxlbWVudCB9KVxuICAgIH0pXG4gIH1cblxuICAvLyBBbmltYXRpb25zXG5cbiAgY3JlYXRlQW5pbWF0aW9ucyAoKSB7XG4gICAgdGhpcy5hbmltYXRpb25zID0gW11cblxuICAgIC8vIEJ1dHRvbnNcblxuICAgIHRoaXMuYW5pbWF0aW9uc0J1dHRvbnMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25zQnV0dG9ucywgKGVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiBuZXcgQnV0dG9ucyh7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc0J1dHRvbnMpXG5cbiAgICAvLyBUaXRsZXNcblxuICAgIHRoaXMuYW5pbWF0aW9uc1RpdGxlcyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNUaXRsZXMsIChlbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFRpdGxlKHtcbiAgICAgICAgZWxlbWVudFxuICAgICAgfSlcbiAgICB9KVxuXG4gICAgdGhpcy5hbmltYXRpb25zLnB1c2goLi4udGhpcy5hbmltYXRpb25zVGl0bGVzKVxuXG4gICAgLy8gUGFyYWdyYXBoc1xuXG4gICAgdGhpcy5hbmltYXRpb25zUGFyYWdyYXBocyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQYXJhZ3JhcGgoe1xuICAgICAgICBlbGVtZW50XG4gICAgICB9KVxuICAgIH0pXG5cbiAgICB0aGlzLmFuaW1hdGlvbnMucHVzaCguLi50aGlzLmFuaW1hdGlvbnNQYXJhZ3JhcGhzKVxuXG4gICAgLy8gTGFiZWxzXG5cbiAgICB0aGlzLmFuaW1hdGlvbnNMYWJlbHMgPSBtYXAodGhpcy5lbGVtZW50cy5hbmltYXRpb25zTGFiZWxzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBMYWJlbCh7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYW5pbWF0aW9uc0xhYmVscylcblxuICAgIC8vIEhpZ2hsaWdodHNcblxuICAgIHRoaXMuYWltYXRpb25zSGlnaGxpZ2h0cyA9IG1hcCh0aGlzLmVsZW1lbnRzLmFpbWF0aW9uc0hpZ2hsaWdodHMsIChlbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gbmV3IEhpZ2hsaWdodCh7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKC4uLnRoaXMuYWltYXRpb25zSGlnaGxpZ2h0cylcbiAgfVxuXG4gIGNyZWF0ZU9ic2VydmVyICgpIHtcbiAgICB0aGlzLm9ic2VydmVyID0gbmV3IHdpbmRvdy5SZXNpemVPYnNlcnZlcih0ID0+IHtcbiAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCA9PiB7XG4gICAgICAgICAgdGhpcy5zY3JvbGwubGltaXQgPSBtYXAodGhpcy5lbGVtZW50cy53cmFwcGVyKS5oZWlnaHQgLSB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnRzLndyYXBwZXIpXG4gIH1cblxuICBzaG93IChhbmltYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIENvbG9yc01hbmFnZXIuY2hhbmdlKHtcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWJhY2tncm91bmQnKSxcbiAgICAgICAgY29sb3I6IHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtY29sb3InKVxuICAgICAgfSlcblxuICAgICAgaWYgKGFuaW1hdGlvbikge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkluID0gYW5pbWF0aW9uXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbkluID0gR1NBUC50aW1lbGluZSgpXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uSW4uZnJvbVRvKFxuICAgICAgICAgIHRoaXMuZWxlbWVudCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBhdXRvQWxwaGE6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGF1dG9BbHBoYTogMVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICB0aGlzLmFuaW1hdGlvbkluLmNhbGwoXyA9PiB7XG4gICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKVxuXG4gICAgICAgIHJlc29sdmUoKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgaGlkZSAoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICB0aGlzLmRlc3Ryb3koKVxuXG4gICAgICB0aGlzLmFuaW1hdGlvbkluID0gR1NBUC50aW1lbGluZSgpXG5cbiAgICAgIHRoaXMuYW5pbWF0aW9uSW4udG8odGhpcy5lbGVtZW50LCB7XG4gICAgICAgIGF1dG9BbHBoYTogMCxcbiAgICAgICAgb25Db21wbGV0ZTogcmVzb2x2ZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgLy8gRXZlbnRzXG5cbiAgb25SZXNpemUgKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRzLndyYXBwZXIpIHtcbiAgICAgIHRoaXMuc2Nyb2xsLmxpbWl0ID0gdGhpcy5lbGVtZW50cy53cmFwcGVyLmNsaWVudEhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodFxuICAgIH1cblxuICAgIGVhY2godGhpcy5hbmltYXRpb25zLCAoYW5pbWF0aW9uKSA9PiBhbmltYXRpb24ub25SZXNpemUoKSlcbiAgfVxuXG4gIG9uV2hlZWwgKHsgcGl4ZWxZIH0pIHtcbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgKz0gcGl4ZWxZICogMC41XG4gIH1cblxuICBvblRvdWNoRG93biAoZSkge1xuICAgIHRoaXMuaXNEb3duID0gdHJ1ZVxuXG4gICAgdGhpcy55LnN0YXJ0ID0gZS50b3VjaGVzID8gZS50b3VjaGVzWzBdLmNsaWVudFkgOiBlLmNsaWVudFlcbiAgICB0aGlzLnNjcm9sbC5zdGFydCA9IHRoaXMuc2Nyb2xsLmN1cnJlbnRcbiAgfVxuXG4gIG9uVG91Y2hVcCAoZSkge1xuICAgIHRoaXMuaXNEb3duID0gZmFsc2VcbiAgfVxuXG4gIG9uVG91Y2hNb3ZlIChlKSB7XG4gICAgaWYgKCF0aGlzLmlzRG93bikgcmV0dXJuXG4gICAgdGhpcy55LmVuZCA9IGUudG91Y2hlcyA/IGUudG91Y2hlc1swXS5jbGllbnRZIDogZS5jbGllbnRZXG4gICAgY29uc3QgZGlzdGFuY2UgPSB0aGlzLnkuc3RhcnQgLSB0aGlzLnkuZW5kXG5cbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSB0aGlzLnNjcm9sbC5zdGFydCArIGRpc3RhbmNlXG4gIH1cblxuICAvLyBMb29wXG5cbiAgdXBkYXRlICgpIHtcbiAgICB0aGlzLnNjcm9sbC50YXJnZXQgPSBHU0FQLnV0aWxzLmNsYW1wKDAsIHRoaXMuc2Nyb2xsLmxpbWl0LCB0aGlzLnNjcm9sbC50YXJnZXQpXG5cbiAgICB0aGlzLnNjcm9sbC5jdXJyZW50ID0gR1NBUC51dGlscy5pbnRlcnBvbGF0ZSh0aGlzLnNjcm9sbC5jdXJyZW50LCB0aGlzLnNjcm9sbC50YXJnZXQsIDAuMSlcblxuICAgIGlmICh0aGlzLnNjcm9sbC5jdXJyZW50IDwgMC4wMSkge1xuICAgICAgdGhpcy5zY3JvbGwuY3VycmVudCA9IDBcbiAgICB9XG5cbiAgICBpZiAodGhpcy5lbGVtZW50cy53cmFwcGVyKSB7XG4gICAgICB0aGlzLmVsZW1lbnRzLndyYXBwZXIuc3R5bGVbdGhpcy50cmFuc2Zvcm1QcmVmaXhdID0gYHRyYW5zbGF0ZTNkKDBweCwgLSR7dGhpcy5zY3JvbGwuY3VycmVudH1weCwgMHB4KWBcbiAgICB9XG4gIH1cblxuICAvLyBMaXN0ZW5lcnNcblxuICBhZGRFdmVudExpc3RlbmVycyAoKSB7fVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzICgpIHt9XG5cbiAgLy8gRGVzdHJveVxuXG4gIGRlc3Ryb3kgKCkge1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKVxuICB9XG59XG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJjZjcyZTc4MTEwNDlmMjQxZjgyMlwiKSJdLCJuYW1lcyI6WyJQYWdlIiwiY29uc3RydWN0b3IiLCJlbGVtZW50IiwiZWxlbWVudHMiLCJpZCIsInRoaXMiLCJzZWxlY3RvciIsInNlbGVjdG9yQ2hpbGRyZW4iLCJwcmVsb2FkZXJzIiwiYW5pbWF0aW9uc1RpdGxlcyIsImFpbWF0aW9uc0hpZ2hsaWdodHMiLCJhbmltYXRpb25zUGFyYWdyYXBocyIsImFuaW1hdGlvbnNMYWJlbHMiLCJhbmltYXRpb25zQnV0dG9ucyIsInRyYW5zZm9ybVByZWZpeCIsIlByZWZpeCIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNjcm9sbCIsImN1cnJlbnQiLCJ0YXJnZXQiLCJsYXN0IiwibGltaXQiLCJ4Iiwic3RhcnQiLCJkaXN0YW5jZSIsImVuZCIsInkiLCJlYWNoIiwiZW50cnkiLCJrZXkiLCJ3aW5kb3ciLCJIVE1MRWxlbWVudCIsIk5vZGVMaXN0IiwiQXJyYXkiLCJpc0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImxlbmd0aCIsImNyZWF0ZUFuaW1hdGlvbnMiLCJjcmVhdGVQcmVsb2FkZXIiLCJtYXAiLCJBc3luY0xvYWQiLCJhbmltYXRpb25zIiwiQnV0dG9ucyIsInB1c2giLCJUaXRsZSIsIlBhcmFncmFwaCIsIkxhYmVsIiwiSGlnaGxpZ2h0IiwiY3JlYXRlT2JzZXJ2ZXIiLCJvYnNlcnZlciIsIlJlc2l6ZU9ic2VydmVyIiwidCIsImUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3cmFwcGVyIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJvYnNlcnZlIiwic2hvdyIsImFuaW1hdGlvbiIsIlByb21pc2UiLCJyZXNvbHZlIiwiQ29sb3JzTWFuYWdlciIsImJhY2tncm91bmRDb2xvciIsImdldEF0dHJpYnV0ZSIsImNvbG9yIiwiYW5pbWF0aW9uSW4iLCJHU0FQIiwiZnJvbVRvIiwiYXV0b0FscGhhIiwiY2FsbCIsIl8iLCJhZGRFdmVudExpc3RlbmVycyIsImhpZGUiLCJkZXN0cm95IiwidG8iLCJvbkNvbXBsZXRlIiwib25SZXNpemUiLCJjbGllbnRIZWlnaHQiLCJvbldoZWVsIiwicGl4ZWxZIiwib25Ub3VjaERvd24iLCJpc0Rvd24iLCJ0b3VjaGVzIiwiY2xpZW50WSIsIm9uVG91Y2hVcCIsIm9uVG91Y2hNb3ZlIiwidXBkYXRlIiwic3R5bGUiLCJyZW1vdmVFdmVudExpc3RlbmVycyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==